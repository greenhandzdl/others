@startuml
class LibraryCache {
  -std::map<std::string, CacheEntry> cache_
  -std::mutex mutex_
  -std::atomic<bool> cleaner_running_
  -const std::chrono::seconds cleanup_interval_
  +LibraryCache()
  +~LibraryCache()
  +std::shared_ptr<void> load(const std::string& path)
  +void clean_expired()
  +static void HandleDeleter(void* handle)
}

struct CacheEntry {
    -std::unique_ptr<void, decltype(&dlclose)> unique_handle
    -std::weak_ptr<void> weak_handle
    -std::chrono::steady_clock::time_point last_access
  }

LibraryCache "1" *-- "0..*" CacheEntry : contains
@enduml